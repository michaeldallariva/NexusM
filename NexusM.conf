# ============================================================
# NexusM Configuration File
# ============================================================
# Edit this file to customize your NexusM settings.
# Lines starting with # are comments and ignored.
# Format: Key=Value
# Restart the application after making changes.
# ============================================================

[Server]
# Web server port
ServerPort=8182
# Server host binding: localhost, 0.0.0.0 (all interfaces), or specific IP
ServerHost=0.0.0.0
# Number of Kestrel worker threads (0 = auto based on CPU cores)
WorkerThreads=0
# Request timeout in seconds
RequestTimeout=300
# Session timeout in seconds (28800 = 8 hours)
SessionTimeout=28800
# Show the console window (True/False). Set to False to run hidden.
ShowConsole=False
# Open default browser on startup (True/False)
OpenBrowser=True
# Run on Windows startup (True/False)
RunOnStartup=False

[Security]
# Require PIN authentication (True/False). Set to False to auto-login as admin.
SecurityByPin=True
# Default admin username (created on first run)
DefaultAdminUser=admin
# IP whitelist - comma separated, empty = allow all
IPWhitelist=

[Library]
# Music library folders - comma separated paths
MusicFolders=
# Movies and TV Shows folders - comma separated paths
MoviesTVFolders=
# Pictures folders - comma separated paths
PicturesFolders=
# Music Videos folders - comma separated paths
MusicVideosFolders=
# eBooks folders - comma separated paths
EBooksFolders=
# Supported audio file extensions
AudioExtensions=.mp3,.flac,.wav,.m4a,.aac,.ogg,.wma,.opus,.ape,.alac,.aiff,.dsf,.dff
# Supported image file extensions for pictures library
ImageExtensions=.jpg,.jpeg,.png,.gif,.bmp,.webp,.tiff
# Supported eBook file extensions
EBookExtensions=.pdf,.epub
# Supported music video file extensions
MusicVideoExtensions=.mp4,.mkv,.avi,.mov,.flv,.webm,.m4v
# Supported video file extensions
VideoExtensions=.mp4,.mkv,.avi,.mov,.flv,.webm,.m4v,.wmv,.ts
# Enable automatic library scan on startup (True/False)
AutoScanOnStartup=False
# Scan interval in minutes (0 = manual scan only)
AutoScanInterval=0
# Maximum parallel scan threads
ScanThreads=4

[Playback]
# Enable server-side transcoding (True/False)
TranscodingEnabled=False
# Preferred transcode output format (mp3, aac, opus)
TranscodeFormat=mp3
# Transcode bitrate (128k, 192k, 256k, 320k)
TranscodeBitrate=192k
# FFmpeg path (leave empty for auto-detect)
FFmpegPath=

[Transcoding]
# Hardware encoder preference: auto, nvenc, qsv, amf, software
# "auto" detects NVIDIA/Intel/AMD GPU and tests the best encoder at startup
PreferredEncoder=auto
# Video codec (h264 recommended for broad compatibility)
VideoCodec=h264
# Software encoder preset (veryfast, fast, medium, slow)
VideoPreset=veryfast
# Constant Rate Factor for software encoding (18-28, lower = better quality)
VideoCRF=23
# Max bitrate for hardware encoders
VideoMaxrate=5M
# Buffer size for hardware encoders
VideoBufsize=10M
# Audio codec for transcoded output
AudioCodec=aac
# Audio bitrate (128k, 192k, 256k, 320k)
AudioBitrate=192k
# Audio channels (2 = stereo downmix from surround)
AudioChannels=2
# Maximum simultaneous transcode jobs
MaxConcurrentTranscodes=2
# CPU limit for software transcoding (0-100%, 0 = unlimited)
FFmpegCPULimit=0
# Remux process priority: normal, abovenormal, high
RemuxPriority=abovenormal
# Remux I/O threads (0 = auto)
RemuxThreads=0
# Max output resolution height (0 = no limit, 1080, 720)
TranscodeMaxHeight=0
# HLS segment duration in seconds
HLSSegmentDuration=4
# HLS cache (persistent across restarts, avoids re-transcoding)
HLSCacheEnabled=True
# Max HLS cache size in GB
HLSCacheMaxSizeGB=100
# Days to keep cached transcodes
HLSCacheRetentionDays=90
# File extensions that require full transcoding (not just remux)
TranscodeFormats=.mkv,.avi,.wmv,.flv,.mov,.mpg,.mpeg,.vob,.ts,.webm,.divx,.3gp

[Metadata]
# Metadata provider: tvmaze (free, TV only), tmdb (requires API key, movies+TV), none
Provider=tvmaze
# TMDB API key (get yours free at https://www.themoviedb.org/settings/api)
TmdbApiKey=
# Fetch metadata during library scan (True/False)
FetchOnScan=True
# Download cast photos (True/False)
FetchCastPhotos=True

[Database]
# SQLite database file paths (relative to app directory)
DatabasePath=data/music.db
PicturesDatabasePath=data/pictures.db
EBooksDatabasePath=data/ebooks.db
MusicVideosDatabasePath=data/musicvideos.db
VideosDatabasePath=data/videos.db
UsersDatabasePath=data/users.db
SharesDatabasePath=data/shares.db
ActorsDatabasePath=data/actors.db

[Logging]
# Log level: Debug, Information, Warning, Error
LogLevel=Information
# Log file path (relative to app directory)
LogFile=logs/nexusm.log
# Maximum log file size in MB before rotation
MaxLogSizeMB=50

[UI]
# Default view mode: grid, list
DefaultView=grid
# Theme: dark, light
Theme=dark
# Language code: en, fr, de, es, pt, it, pl, ru, sv
Language=en
# Menu component visibility
ShowMoviesTV=True
ShowMusicVideos=True
ShowRadio=True
ShowInternetTV=True
ShowEBooks=True
ShowActors=True
